import{addOnInputEvent}from"../Events.js";function UpdateComponent(task){let updateSection=document.createElement("section");return updateSection.setAttribute("class","update-section"),updateSection.appendChild(createInputField({labelContent:"New Task Name:",type:"text"})),updateSection.appendChild(createInputField({labelContent:"Due Date:",type:"date"})),updateSection.appendChild(createErrorMessage()),updateSection.appendChild(createButtonSection(task)),updateSection}function createInputField({labelContent:labelContent,type:type}){let section=document.createElement("section"),label=document.createElement("label"),input=document.createElement("input");return label.textContent=labelContent,input.setAttribute("type",type),section.appendChild(label),section.appendChild(input),section}function createErrorMessage(){let section=document.createElement("section"),small=document.createElement("small");return small.textContent="Please fill up the required fields.",small.setAttribute("class","error-message"),section.appendChild(small),section}function createButton({textContent:textContent,id:id}){let button=document.createElement("button");return button.setAttribute("id",id),button.textContent=textContent,button}function createButtonSection(task){let section=document.createElement("section");section.setAttribute("class","update-button-section");let doneButton=createButton({textContent:"Done",id:"done-button"}),cancelButton=createButton({textContent:"Cancel",id:"cancel-button"});return doneButton.addEventListener("click",()=>{let textbox=task.childNodes[2].firstChild.lastChild,date=task.childNodes[2].childNodes[1].lastChild;if(isFieldNotEmpty(textbox)&&isFieldNotEmpty(date))return task.firstChild.childNodes[0].textContent=textbox.value,task.firstChild.childNodes[1].textContent=date.value,hideUpdateSection(task),hideErrorMessage(task),showUpdateMessage(task),textbox.value="",void(date.value="");showErrorMessage(task)}),cancelButton.addEventListener("click",()=>{hideUpdateSection(task),hideErrorMessage(task)}),section.appendChild(doneButton),section.appendChild(cancelButton),section}function isFieldNotEmpty(inputField){return""!==inputField.value}function hideUpdateSection(task){task.firstChild.nextSibling.nextElementSibling.style.display="none"}function showErrorMessage(task){task.childNodes[2].childNodes[2].firstChild.style.display="block"}function showUpdateMessage(task){task.firstChild.lastChild.style.display="block",setTimeout(()=>{task.firstChild.lastChild.style.display="none"},2e3)}function hideErrorMessage(task){task.childNodes[2].childNodes[2].firstChild.style.display="none"}export{UpdateComponent,isFieldNotEmpty};